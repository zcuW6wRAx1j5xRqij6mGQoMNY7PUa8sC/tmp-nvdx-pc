/* empty css                  *//* empty css                  */import"./index-B4oU7Ve4.js";import{E as ye}from"./index-BLWTovwI.js";import{o as le,aL as pe,U as W,V as be,a4 as Ce,R as Z,c as k,aB as se,b9 as Q,J as G,ba as ge,bo as Ee,bc as he,bp as Te,aP as q,C as X,f as V,B as E,ak as we,z as J,A as j,ao as Se,_ as ae,S as ke,D as ee,b as T,d as K,e as U,q as h,h as o,t as x,w as g,g as H,y as Le,bq as Ae,X as Be,i as P,Z as ie,al as De,Y as Me,br as Ie,r as S,bs as Oe,bt as Ne,bu as oe,O as $e,aw as Ye,s as Re,v as Ve,Q as de,P as re,T as ze,G as _e,a0 as Ue,k as te}from"./index-sRNqgdFD.js";import{i as He,a3 as Pe,F as Xe,U as ue,a4 as Ke,a5 as Fe,a6 as Ge}from"./index-CB-azdtK.js";import{c as je}from"./refs-D66wpJr-.js";import{u as ne,e as qe}from"./use-form-item-D2xdO-cN.js";var F=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(F||{});const We=(e,a,s,r)=>{let n={offsetX:0,offsetY:0};const u=l=>{const v=l.clientX,p=l.clientY,{offsetX:b,offsetY:m}=n,y=e.value.getBoundingClientRect(),w=y.left,f=y.top,$=y.width,L=y.height,z=document.documentElement.clientWidth,_=document.documentElement.clientHeight,Y=-w+b,A=-f+m,B=z-w-$+b,D=_-f-L+m,M=t=>{let O=b+t.clientX-v,R=m+t.clientY-p;r!=null&&r.value||(O=Math.min(Math.max(O,Y),B),R=Math.min(Math.max(R,A),D)),n={offsetX:O,offsetY:R},e.value&&(e.value.style.transform=`translate(${W(O)}, ${W(R)})`)},I=()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",I)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",I)},d=()=>{a.value&&e.value&&a.value.addEventListener("mousedown",u)},c=()=>{a.value&&e.value&&a.value.removeEventListener("mousedown",u)},i=()=>{n={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")};return le(()=>{pe(()=>{s.value?d():c()})}),be(()=>{c()}),{resetPosition:i}},xe=(e,a={})=>{Ce(e)||He("[useLockscreen]","You need to pass a ref param to this function");const s=a.ns||Z("popup"),r=k(()=>s.bm("parent","hidden"));if(!se||Q(document.body,r.value))return;let n=0,u=!1,d="0";const c=()=>{setTimeout(()=>{typeof document>"u"||(ge(document==null?void 0:document.body,r.value),u&&document&&(document.body.style.width=d))},200)};G(e,i=>{if(!i){c();return}u=!Q(document.body,r.value),u&&(d=document.body.style.width),n=Pe(s.namespace.value);const l=document.documentElement.clientHeight<document.body.scrollHeight,v=Ee(document.body,"overflowY");n>0&&(l||v==="scroll")&&u&&(document.body.style.width=`calc(100% - ${n}px)`),he(document.body,r.value)}),Te(()=>c())},ce=e=>{if(!e)return{onClick:q,onMousedown:q,onMouseup:q};let a=!1,s=!1;return{onClick:d=>{a&&s&&e(d),a=s=!1},onMousedown:d=>{a=d.target===d.currentTarget},onMouseup:d=>{s=d.target===d.currentTarget}}},Ze=J({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:j([String,Array,Object])},zIndex:{type:j([String,Number])}}),Je={click:e=>e instanceof MouseEvent},Qe="overlay";var eo=X({name:"ElOverlay",props:Ze,emits:Je,setup(e,{slots:a,emit:s}){const r=Z(Qe),n=i=>{s("click",i)},{onClick:u,onMousedown:d,onMouseup:c}=ce(e.customMaskEvent?void 0:n);return()=>e.mask?V("div",{class:[r.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:u,onMousedown:d,onMouseup:c},[E(a,"default")],F.STYLE|F.CLASS|F.PROPS,["onClick","onMouseup","onMousedown"]):we("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[E(a,"default")])}});const oo=eo,fe=Symbol("dialogInjectionKey"),me=J({center:Boolean,alignCenter:Boolean,closeIcon:{type:Se},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),to={close:()=>!0},no=X({name:"ElDialogContent"}),lo=X({...no,props:me,emits:to,setup(e,{expose:a}){const s=e,{t:r}=ke(),{Close:n}=Ae,{dialogRef:u,headerRef:d,bodyId:c,ns:i,style:l}=ee(fe),{focusTrapRef:v}=ee(Xe),p=k(()=>[i.b(),i.is("fullscreen",s.fullscreen),i.is("draggable",s.draggable),i.is("align-center",s.alignCenter),{[i.m("center")]:s.center}]),b=je(v,u),m=k(()=>s.draggable),y=k(()=>s.overflow),{resetPosition:w}=We(u,d,m,y);return a({resetPosition:w}),(f,$)=>(T(),K("div",{ref:o(b),class:h(o(p)),style:ie(o(l)),tabindex:"-1"},[U("header",{ref_key:"headerRef",ref:d,class:h([o(i).e("header"),{"show-close":f.showClose}])},[E(f.$slots,"header",{},()=>[U("span",{role:"heading","aria-level":f.ariaLevel,class:h(o(i).e("title"))},x(f.title),11,["aria-level"])]),f.showClose?(T(),K("button",{key:0,"aria-label":o(r)("el.dialog.close"),class:h(o(i).e("headerbtn")),type:"button",onClick:L=>f.$emit("close")},[V(o(Be),{class:h(o(i).e("close"))},{default:g(()=>[(T(),H(Le(f.closeIcon||o(n))))]),_:1},8,["class"])],10,["aria-label","onClick"])):P("v-if",!0)],2),U("div",{id:o(c),class:h(o(i).e("body"))},[E(f.$slots,"default")],10,["id"]),f.$slots.footer?(T(),K("footer",{key:0,class:h(o(i).e("footer"))},[E(f.$slots,"footer")],2)):P("v-if",!0)],6))}});var so=ae(lo,[["__file","dialog-content.vue"]]);const ao=J({...me,appendToBody:Boolean,appendTo:{type:j([String,Object]),default:"body"},beforeClose:{type:j(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),io={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ue]:e=>De(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},ro=(e,a)=>{var s;const n=Me().emit,{nextZIndex:u}=Ie();let d="";const c=ne(),i=ne(),l=S(!1),v=S(!1),p=S(!1),b=S((s=e.zIndex)!=null?s:u());let m,y;const w=Oe("namespace",Ne),f=k(()=>{const C={},N=`--${w.value}-dialog`;return e.fullscreen||(e.top&&(C[`${N}-margin-top`]=e.top),e.width&&(C[`${N}-width`]=W(e.width))),C}),$=k(()=>e.alignCenter?{display:"flex"}:{});function L(){n("opened")}function z(){n("closed"),n(ue,!1),e.destroyOnClose&&(p.value=!1)}function _(){n("close")}function Y(){y==null||y(),m==null||m(),e.openDelay&&e.openDelay>0?{stop:m}=oe(()=>M(),e.openDelay):M()}function A(){m==null||m(),y==null||y(),e.closeDelay&&e.closeDelay>0?{stop:y}=oe(()=>I(),e.closeDelay):I()}function B(){function C(N){N||(v.value=!0,l.value=!1)}e.beforeClose?e.beforeClose(C):A()}function D(){e.closeOnClickModal&&B()}function M(){se&&(l.value=!0)}function I(){l.value=!1}function t(){n("openAutoFocus")}function O(){n("closeAutoFocus")}function R(C){var N;((N=C.detail)==null?void 0:N.focusReason)==="pointer"&&C.preventDefault()}e.lockScroll&&xe(l);function ve(){e.closeOnPressEscape&&B()}return G(()=>e.modelValue,C=>{C?(v.value=!1,Y(),p.value=!0,b.value=Ke(e.zIndex)?u():b.value++,$e(()=>{n("open"),a.value&&(a.value.scrollTop=0)})):l.value&&A()}),G(()=>e.fullscreen,C=>{a.value&&(C?(d=a.value.style.transform,a.value.style.transform=""):a.value.style.transform=d)}),le(()=>{e.modelValue&&(l.value=!0,p.value=!0,Y())}),{afterEnter:L,afterLeave:z,beforeLeave:_,handleClose:B,onModalClick:D,close:A,doClose:I,onOpenAutoFocus:t,onCloseAutoFocus:O,onCloseRequested:ve,onFocusoutPrevented:R,titleId:c,bodyId:i,closed:v,style:f,overlayDialogStyle:$,rendered:p,visible:l,zIndex:b}},uo=X({name:"ElDialog",inheritAttrs:!1}),co=X({...uo,props:ao,emits:io,setup(e,{expose:a}){const s=e,r=Ye();qe({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},k(()=>!!r.title));const n=Z("dialog"),u=S(),d=S(),c=S(),{visible:i,titleId:l,bodyId:v,style:p,overlayDialogStyle:b,rendered:m,zIndex:y,afterEnter:w,afterLeave:f,beforeLeave:$,handleClose:L,onModalClick:z,onOpenAutoFocus:_,onCloseAutoFocus:Y,onCloseRequested:A,onFocusoutPrevented:B}=ro(s,u);_e(fe,{dialogRef:u,headerRef:d,bodyId:v,ns:n,rendered:m,style:p});const D=ce(z),M=k(()=>s.draggable&&!s.fullscreen);return a({visible:i,dialogContentRef:c,resetPosition:()=>{var t;(t=c.value)==null||t.resetPosition()}}),(t,O)=>(T(),H(o(Ge),{to:t.appendTo,disabled:t.appendTo!=="body"?!1:!t.appendToBody},{default:g(()=>[V(ze,{name:"dialog-fade",onAfterEnter:o(w),onAfterLeave:o(f),onBeforeLeave:o($),persisted:""},{default:g(()=>[Re(V(o(oo),{"custom-mask-event":"",mask:t.modal,"overlay-class":t.modalClass,"z-index":o(y)},{default:g(()=>[U("div",{role:"dialog","aria-modal":"true","aria-label":t.title||void 0,"aria-labelledby":t.title?void 0:o(l),"aria-describedby":o(v),class:h(`${o(n).namespace.value}-overlay-dialog`),style:ie(o(b)),onClick:o(D).onClick,onMousedown:o(D).onMousedown,onMouseup:o(D).onMouseup},[V(o(Fe),{loop:"",trapped:o(i),"focus-start-el":"container",onFocusAfterTrapped:o(_),onFocusAfterReleased:o(Y),onFocusoutPrevented:o(B),onReleaseRequested:o(A)},{default:g(()=>[o(m)?(T(),H(so,de({key:0,ref_key:"dialogContentRef",ref:c},t.$attrs,{center:t.center,"align-center":t.alignCenter,"close-icon":t.closeIcon,draggable:o(M),overflow:t.overflow,fullscreen:t.fullscreen,"show-close":t.showClose,title:t.title,"aria-level":t.headerAriaLevel,onClose:o(L)}),re({header:g(()=>[t.$slots.title?E(t.$slots,"title",{key:1}):E(t.$slots,"header",{key:0,close:o(L),titleId:o(l),titleClass:o(n).e("title")})]),default:g(()=>[E(t.$slots,"default")]),_:2},[t.$slots.footer?{name:"footer",fn:g(()=>[E(t.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):P("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[Ve,o(i)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var fo=ae(co,[["__file","dialog.vue"]]);const mo=Ue(fo),vo={class:"dialog-body"},yo={key:0,class:"flex justify-between"},So={__name:"MyDialog",props:{modelValue:Boolean,title:String,width:{type:String,default:"30%"},showFooter:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},hideCancel:{type:Boolean,default:!0}},emits:["update:modelValue","confirm","cancel"],setup(e,{emit:a}){const s=e,r=a,n=S(s.modelValue);G(()=>s.modelValue,l=>{console.log("new",l),n.value=l});const u=l=>{n.value=l,l===!1&&i()},d=()=>{r("confirm")},c=()=>{r("update:modelValue",!1),r("close")},i=()=>{r("update:modelValue",!1),r("close")};return(l,v)=>{const p=ye,b=mo;return T(),H(b,de({modelValue:n.value,"onUpdate:modelValue":v[0]||(v[0]=m=>n.value=m),class:"my-dialog",title:e.title,width:e.width,"close-on-click-modal":!1,"onUpdate:visible":u,onClose:i},l.$attrs),re({default:g(()=>[U("div",vo,[E(l.$slots,"default")])]),_:2},[e.showFooter?{name:"footer",fn:g(()=>[e.showFooter?(T(),K("div",yo,[e.hideCancel?P("",!0):(T(),H(p,{key:0,onClick:c,disabled:e.loading,loading:e.loading},{default:g(()=>[te(x(l.$t("common.text6")),1)]),_:1},8,["disabled","loading"])),V(p,{type:"primary",loading:e.loading,disabled:e.disabled,class:h({"w-full":e.hideCancel}),onClick:d},{default:g(()=>[te(x(l.$t("common.text1")),1)]),_:1},8,["loading","disabled","class"])])):P("",!0)]),key:"0"}:void 0]),1040,["modelValue","title","width"])}}};export{So as _};
