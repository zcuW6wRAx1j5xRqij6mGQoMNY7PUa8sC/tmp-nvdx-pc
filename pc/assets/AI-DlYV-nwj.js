/* empty css                  */import{v as te}from"./el-loading-DLKkykXM.js";import{_ as se}from"./MyDialog-D61kNEnW.js";import{_ as le}from"./MyInput-Des6Jksq.js";import{_ as ne}from"./MyButton-NG0OFodt.js";import{_ as oe}from"./NoData-95ZKbnPO.js";import{_ as ie}from"./MyTab-CvPPF7IE.js";import{c as y,u as ue,r as _,o as re,b as o,d as i,e as t,f as w,h as d,s as ce,g as N,i as b,F as v,l as x,t as l,k as B,q as Y,w as M}from"./index-sRNqgdFD.js";import{z as de,A as me,B as _e,C as ve,D as pe}from"./data-DOzr8Xtg.js";import{d as j,f as p,m as S,a as I}from"./utils-BFyP1kS5.js";import{s as P}from"./index-B4oU7Ve4.js";import{d as V}from"./dayjs.min-CDit7P-7.js";import{u as fe}from"./useBalance-D7ia67N2.js";import{_ as ye}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                  */import"./index-BLWTovwI.js";import"./use-form-item-D2xdO-cN.js";import"./index-CB-azdtK.js";import"./refs-D66wpJr-.js";import"./my-VK3vBoCp.js";const be={class:"flex-shrink-0"},he={class:"flex-auto overflow-auto"},ke={key:1,class:"ai-ul"},ge={class:"flex items-center"},Ce=["src"],xe={class:"coin-name"},Be={class:"mt-3 tip-box"},$e={class:"tip-label"},De={class:"rate"},we={class:"time-list"},Ye=["onClick"],Me={class:"c-is-num"},Ve={key:2,class:"ai-ul"},Ae={class:"flex items-center"},Le=["src"],Se={class:"coin-name"},Ie=["onClick"],Ue={class:"flex mt-3"},He={class:"c-order-tip-box blue"},Te={class:"c-is-num"},Fe={class:"c-order-tip-box"},Ne={class:"show-ul is-small"},je={class:"show-label"},Pe={class:"flex-auto"},ze={class:"info"},Oe={class:"flex items-center"},Ee=["src"],qe={class:"title ml-2"},Re={class:"flex items-center mt-3"},Ge={class:"mt-1 flex items-center"},Je={class:"text-sm text-[#8B939A]"},Ke={class:"text-[#1EB576] text-sm ml-2 c-is-num"},Qe={class:"text-sm ml-4"},We={class:"c-is-num"},Xe={class:"mt-5"},Ze={class:"flex items-center font-15"},ea={class:"flex justify-between items-center"},aa={class:"text-sm text-[#8B939A]"},ta={class:"text-[#fff] ml-2 c-is-num"},sa={class:"title mt-4"},la={class:"show-ul"},na=["onClick"],oa={class:"show-label"},ia={class:"my-dialog-body"},ua={__name:"AI",setup(ra){const{walletInfo:z}=fe([1]),U=y(()=>z.value.total),{t:n}=ue(),O=y(()=>[{id:1,name:n("ai.tab1")},{id:2,name:n("ai.tab2")},{id:3,name:n("ai.tab3")}]),$=_(1),E=e=>{$.value=e,A(e)},h=_([]),m=_(!1),A=(e=1)=>{h.value=[],m.value=!0,(e===3?de:me)({category:e===1?"flexible":e===2?"fixed":"",page:1,page_size:999}).then(L=>{h.value=L.items.map(C=>(C.time=C.duration[0],C))}).finally(()=>{m.value=!1})};re(()=>{A()});const q=(e,s)=>{s.time=e},r=_(""),D=_({}),k=_(!1),u=_({}),f=_({}),R=e=>{D.value={},_e({id:e.id}).then(s=>{u.value=s,f.value=e}),r.value="",k.value=!0},G=()=>{if(!m.value){if(+r.value<+u.value.min_amount||+r.value>+u.value.max_amount){D.value.amount=n("aiBuy.tip4");return}if(!u.value.duration.includes(+f.value.time)){errorMessage(n("aiBuy.tip5"));return}m.value=!0,ve({financial_id:u.value.id,amount:r.value,duration:f.value.time}).then(()=>{k.value=!1,m.value=!1,P(n("common.opeSuccess"))}).catch(e=>{D.value=e}).finally(()=>{m.value=!1})}},J=y(()=>[{key:"unit_price",name:n("aiBuy.label1"),cb:e=>V().format("YYYY-MM-DD")},{key:"amount",name:n("aiBuy.label2"),cb:()=>`${r.value} USDC`},{key:"income",name:n("aiBuy.label3"),cb:e=>`${K.value} USDC`},{key:"endTime",name:n("aiBuy.label4"),cb:e=>V().add(f.value.time,"day").format("YYYY-MM-DD")},{key:"penaltyFee",name:n("aiBuy.label5"),cb:e=>`${Q.value} USDC`}]),K=y(()=>{if(!r.value||!u.value.min_daily_rate)return"0.00";const e=j(u.value.min_daily_rate,100);return p(S(S(r.value,e),f.value.time))}),Q=y(()=>{if(!r.value||!u.value.penalty_rate)return"0.00";const e=j(u.value.penalty_rate,100);return p(S(r.value,e))}),W=y(()=>[{key:"amount",name:n("aiHis.label1"),cb:s=>`${p(s.amount)} USDC`},{key:"end_at",name:n("aiHis.label2"),cb:s=>V(s.end_at).format("DD.MM.YYYY")},{key:"amount",name:n("aiHis.label3"),cb:s=>p(s.amount)},{key:"penalty_amount",name:n("aiHis.label4"),cb:s=>p(s.penalty_amount)},{key:"expected_total_profit",name:n("aiHis.label5"),cb:s=>p(s.expected_total_profit),cssCb:s=>+s.expected_total_profit<0?"red-color":"green-color"}]),H=_({}),X=e=>{e.status==="pending"&&(H.value=e,g.value=!0)},g=_(!1),Z=()=>{m.value||(m.value=!0,pe({order_id:H.value.id}).then(()=>{g.value=!1,P(n("common.opeSuccess")),A(3)}).finally(()=>{m.value=!1}))};return(e,s)=>{const T=ie,L=oe,C=ne,ee=le,F=se,ae=te;return o(),i(v,null,[t("div",be,[w(T,{tabList:d(O),tabActive:$.value,onTabChange:E,class:"flex-shrink-0",isBlock:""},null,8,["tabList","tabActive"])]),ce((o(),i("div",he,[h.value.length===0?(o(),N(L,{key:0,style:{height:"90%"}})):b("",!0),$.value!==3?(o(),i("div",ke,[(o(!0),i(v,null,x(h.value,a=>(o(),i("div",{class:"ai-item",key:a.id},[t("div",ge,[a.logo?(o(),i("img",{key:0,src:d(I)(a.logo),class:"icon-avatar",alt:""},null,8,Ce)):b("",!0),t("span",xe,l(a.name),1)]),t("div",Be,[t("span",$e,l(e.$t("ai.tip1")),1),s[6]||(s[6]=B()),t("span",De,l(a.min_daily_rate)+"% ~ "+l(a.max_daily_rate)+"%",1)]),t("div",we,[(o(!0),i(v,null,x(a.duration,c=>(o(),i("div",{key:c,class:Y(["time-item",{active:c===a.time}]),onClick:ca=>q(c,a)},[t("span",Me,l(c),1),B(l(e.$t("ai.days")),1)],10,Ye))),128))]),$.value!==3?(o(),N(C,{key:0,type:"primary",class:"mt-5",size:"medium",onClick:c=>R(a)},{default:M(()=>[B(l(e.$t("ai.btn1")),1)]),_:2},1032,["onClick"])):b("",!0)]))),128))])):(o(),i("div",Ve,[(o(!0),i(v,null,x(h.value,a=>(o(),i("div",{class:"ai-item",key:a.id},[t("div",Ae,[a.financial?(o(),i(v,{key:0},[a.financial.logo?(o(),i("img",{key:0,src:d(I)(a.financial.logo),class:"icon-avatar",alt:""},null,8,Le)):b("",!0),t("span",Se,l(a.financial.name),1)],64)):b("",!0),t("div",{class:Y(["status-box cursor-pointer ml-auto",[a.status==="pending"?"blue":"status-grey"]]),onClick:c=>X(a)},l(a.status==="pending"?e.$t("ai.status1"):e.$t("aiHis.status2")),11,Ie)]),t("div",Ue,[t("div",He,[t("span",Te,l(a.duration),1),B(" "+l(e.$t("aiHis.days")),1)]),t("div",Fe,l(d(V)(a.start_at).format("DD.MM.YYYY")),1)]),t("div",Ne,[(o(!0),i(v,null,x(d(W),c=>(o(),i("div",{class:"show-li",key:c.key},[t("span",je,l(c.name),1),t("span",{class:Y(["show-value",[c.cssCb?c.cssCb(a):""]])},l(c.cb(a)),3)]))),128))])]))),128))]))])),[[ae,m.value]]),w(F,{modelValue:k.value,"onUpdate:modelValue":s[2]||(s[2]=a=>k.value=a),loading:m.value,disabled:!r.value,title:d(n)("ai.btn1"),width:"350px",onConfirm:G,onClose:s[3]||(s[3]=a=>k.value=!1)},{default:M(()=>[t("div",Pe,[t("div",ze,[t("div",Oe,[u.value.logo?(o(),i("img",{key:0,src:d(I)(u.value.logo),class:"w-7 h-7 rounded-full",alt:""},null,8,Ee)):b("",!0),t("div",qe,l(u.value.name),1)]),t("div",Re,[t("div",Ge,[t("span",Je,l(e.$t("aiBuy.tip1")),1),t("span",Ke,l(u.value.min_daily_rate)+"% ~ "+l(u.value.max_daily_rate)+"%",1)]),t("div",Qe,[t("span",We,l(f.value.time),1),B(l(e.$t("ai.days")),1)])]),t("div",Xe,[w(ee,{placeholder:`${u.value.min_amount||0} - ${u.value.max_amount||0}`,fromLabel:e.$t("aiBuy.label2"),modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=a=>r.value=a),errorObj:D.value,propName:"amount",hasSuffix:""},{suffix:M(()=>[t("div",Ze,[s[7]||(s[7]=t("span",{class:"text-[#fff] mr-4"},"USDC",-1)),t("span",{class:"text-[#0F7DFF] cursor-pointer",onClick:s[0]||(s[0]=a=>r.value=+d(U))},l(e.$t("aiBuy.btn2")),1)])]),_:1},8,["placeholder","fromLabel","modelValue","errorObj"]),t("div",ea,[t("span",aa,l(e.$t("aiBuy.tip2"))+" :",1),t("span",ta,l(d(p)(d(U)))+" USDC",1)])])]),t("div",sa,l(e.$t("aiBuy.tip3")),1),t("div",la,[(o(!0),i(v,null,x(d(J),a=>(o(),i("div",{class:"show-li",key:a.key,onClick:c=>e.liClick(a,e.dataInfo)},[t("span",oa,l(a.name),1),t("span",{class:Y(["show-value",[a.cssCb?a.cssCb(a):""]])},l(a.cb(u.value)),3)],8,na))),128))])])]),_:1},8,["modelValue","loading","disabled","title"]),w(F,{modelValue:g.value,"onUpdate:modelValue":s[4]||(s[4]=a=>g.value=a),title:d(n)("common.text3"),width:"343px",closeIcon:!0,loading:m.value,onConfirm:Z,onClose:s[5]||(s[5]=a=>g.value=!1)},{default:M(()=>[t("div",ia,l(d(n)("aiHis.sureTip")),1)]),_:1},8,["modelValue","title","loading"])],64)}}},Aa=ye(ua,[["__scopeId","data-v-ef0d49f2"]]);export{Aa as default};
