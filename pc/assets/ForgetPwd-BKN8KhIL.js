import{_ as N}from"./MyButton-NG0OFodt.js";import{_ as $,g as L}from"./MyInput-Des6Jksq.js";import{_ as B}from"./MyTab-CvPPF7IE.js";import{_ as U,f as A}from"./user-DVwwJ27s.js";import{u as F,c,j as M,a as D,r as E,b as i,d as I,e as d,f as n,t as m,h as o,g as _,i as g,w as S,k as T}from"./index-sRNqgdFD.js";import{s as h}from"./index-B4oU7Ve4.js";import{L as G}from"./Language-DeJCwiop.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                  */import"./index-CB-azdtK.js";import"./use-form-item-D2xdO-cN.js";import"./index-BLWTovwI.js";import"./dropdown-BVS1iGXQ.js";import"./refs-D66wpJr-.js";const q={class:"c-content login-page"},z={class:"top-header"},H={class:"from-box"},J={class:"login-title"},K={__name:"ForgetPwd",setup(Q){const{t:p}=F(),w=c(()=>[{id:"phone",name:p("register.tab1")},{id:"email",name:p("register.tab2")}]),f=t=>{e.account_type=t},u=M(),e=D({email:"",password:"",captcha_code:"",nwePassword:"",account_type:"phone",phone_code:"",phone:"",cf_token:""}),b=c(()=>e.account_type==="phone"?e.phone:e.email),P=t=>L({email:e.email,phone:e.phone,account_type:e.account_type,phone_code:e.phone_code,type:"reset_password",cf_token:t}).then(()=>{h(p("common.sendSuccess"))}),V=t=>{s.value=t},s=E({}),y=c(()=>e.account_type==="email"?!e.email||!e.password||!e.nwePassword||!e.captcha_code:!e.phone||!e.password||!e.nwePassword||!e.captcha_code),v=()=>{if(s.value={},e.password!==e.nwePassword){s.value.password=p("forgetPwd.error1");return}return A(e).then(()=>{h(p("common.opeSuccess")),u.replace("/Login")}).catch(t=>{s.value=t})},C=t=>{u.push(t)},j=t=>{e.phone_code=t};return(t,r)=>{const O=B,l=$,k=N;return i(),I("div",q,[d("div",z,[n(G)]),r[6]||(r[6]=d("img",{src:U,class:"login-right",alt:""},null,-1)),d("div",H,[d("div",J,m(t.$t("forgetPwd.title")),1),n(O,{tabList:o(w),class:"mb-4",tabActive:o(e).account_type,onTabChange:f},null,8,["tabList","tabActive"]),o(e).account_type==="phone"?(i(),_(l,{key:0,modelValue:o(e).phone,"onUpdate:modelValue":r[0]||(r[0]=a=>o(e).phone=a),placeholder:t.$t("register.input0"),errorObj:o(s),propName:"phone",isPhone:"",onChangePhoneCode:j},null,8,["modelValue","placeholder","errorObj"])):g("",!0),o(e).account_type==="email"?(i(),_(l,{key:1,modelValue:o(e).email,"onUpdate:modelValue":r[1]||(r[1]=a=>o(e).email=a),placeholder:t.$t("forgetPwd.input1"),errorObj:o(s),propName:"email"},null,8,["modelValue","placeholder","errorObj"])):g("",!0),n(l,{modelValue:o(e).captcha_code,"onUpdate:modelValue":r[2]||(r[2]=a=>o(e).captcha_code=a),placeholder:t.$t("forgetPwd.input2"),errorObj:o(s),propName:"captcha_code",showCode:"",codeValid:o(b),getCode:P,onGetCodeError:V},null,8,["modelValue","placeholder","errorObj","codeValid"]),n(l,{modelValue:o(e).password,"onUpdate:modelValue":r[3]||(r[3]=a=>o(e).password=a),placeholder:t.$t("forgetPwd.input3"),errorObj:o(s),propName:"password",type:"password"},null,8,["modelValue","placeholder","errorObj"]),n(l,{modelValue:o(e).nwePassword,"onUpdate:modelValue":r[4]||(r[4]=a=>o(e).nwePassword=a),placeholder:t.$t("forgetPwd.input4"),errorObj:o(s),propName:"nwePassword",type:"password"},null,8,["modelValue","placeholder","errorObj"]),n(k,{clickFn:v,disabled:o(y)},{default:S(()=>[T(m(t.$t("forgetPwd.button2")),1)]),_:1},8,["disabled"]),d("div",{class:"tip-font mt-10 text-center",onClick:r[5]||(r[5]=a=>C("/Login"))},m(t.$t("forgetPwd.toLogin")),1)])])}}},de=R(K,[["__scopeId","data-v-257ffecf"]]);export{de as default};
